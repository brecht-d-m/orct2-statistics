<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
        <title>OpenRCT2 statistics</title>
        <link rel="icon" href="img/logo.png">

        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

        <!-- Optional theme -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css">
        
        <!-- Font awesome -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">
        
        <style>
            .text-justify {
                text-align: justify;
            }
            
            #footer {
                padding: 0;
                margin: 0;
                margin-bottom: -7px;
                position: fixed;
                bottom: 0px;
                width: 100%;
                box-shadow: 0 0 8px 0 #000; 
                background: #FFF;
                text-align: center;
                font-size: 300%;
            }
        </style>
      
        <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
            <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->
    </head>
    <body>
        <div class="container theme-showcase" role="main">
            <div class="page-header">
                <h1>OpenRCT2 statistics</h1>
            </div>
            <div class="embed-responsive embed-responsive-16by9">
                <iframe class="embed-responsive-item" src="orct2_graph.html"></iframe>
            </div>
            
            <h2>About</h2>
            <div class="row">
                <div class="col-xs-12 col-sm-6 col-lg-8">
                    <p class="text-justify">This plot shows the number of occurences of <code>RCT2_ADDRESS</code>, <code>RCT2_CALL</code>, or <code>RCT2_GLOBAL</code> per commit for the <a href="http://github.com/openrct2/openrct2" target="_blank">OpenRCT2 project</a>. This plot is created using <a href="https://plot.ly/" target="_blank">plot.ly</a> - a data visualization tool. The code to gather the data and generate the plot is available on GitHub (see the footer).</p>
                    <p class="text-justify">You can filter in the plot by clicking on the different keys in the legend. It is also possible to zoom in and to zoom back out (double click on the plot at the top).</p>
                </div>
            </div>
            
            <h2>Data gathering and processing</h2>
            <div class="row">
                <div class="col-xs-12 col-sm-6 col-lg-8">
                    <p class="text-justify">The data for the different statistics is gathered using following command:</p>
                    <pre><p>git grep -h -c $fragment $commit | numsum</p></pre>
                    <p class="text-justify">
                        The variable <code>$fragment</code> will have the values: <code>RCT2_ADDRESS</code>, <code>RCT2_CALL</code>, or <code>RCT2_GLOBAL</code>. The results of these commands are written to a csv file (orct2_statistics.csv). 
                        The header of this file has following structure: commit id, timestamp commit, RCT2_GLOBAL occurences, RCT2_ADDRESS occurences, RCT2_CALL occurences
                    </p>
                    <p class="text-justify">A list of all the commits is retrieved using following command:</p>
                    <pre><p>git rev-list --count develop</p></pre>
                    <p class="text-justify">The process the data afterwards, a Python script was used. The data was read and transformed using the <a href="http://pandas.pydata.org/" target="_blank">Pandas library</a>.</p>
                </div>
            </div>
        </div> <!-- /container -->

        <br /><br /><br /><br />
        
        <div id="footer">
            <a href="https://github.com/brecht-d-m/orct2-statistics" target="_blank">
                <i class="fa fa-github"></i>
            </a>
        </div>
        
        <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    
        <!-- Latest compiled and minified JavaScript -->
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  </body>
</html>